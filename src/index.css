/* Import Tailwind CSS */
@import "tailwindcss";

/* Configure dark mode to use .dark class instead of prefers-color-scheme */
@custom-variant dark (&:where(.dark, .dark *));

/* ============================================
   Tailwind v4 Theme Configuration

   NOTE: Tailwind v4 uses CSS-first configuration.
   The tailwind.config.js file is IGNORED.
   All custom values must be defined here in @theme.
   ============================================ */
@theme {
    /* ============================================
       PUNKT BRAND COLORS
       ============================================ */
    /* Blues */
    --color-pkt-brand-blue-100: #f1fdff;
    --color-pkt-brand-blue-200: #e5fcff;
    --color-pkt-brand-blue-300: #d1f9ff;
    --color-pkt-brand-blue-500: #b3f5ff;
    --color-pkt-brand-blue-1000: #6fe9ff;
    --color-pkt-brand-dark-blue-700: #6a698b;
    --color-pkt-brand-dark-blue-1000: #2a2859;
    --color-pkt-brand-warm-blue-1000: #1f42aa;

    /* Greens */
    --color-pkt-brand-green-400: #c7fde9;
    --color-pkt-brand-green-1000: #43f8b6;
    --color-pkt-brand-light-green-400: #e5ffe6;
    --color-pkt-brand-light-green-1000: #c7f6c9;
    --color-pkt-brand-dark-green-1000: #034b45;

    /* Yellows */
    --color-pkt-brand-yellow-500: #ffe7bc;
    --color-pkt-brand-yellow-1000: #f9c66b;

    /* Reds */
    --color-pkt-brand-red-100: #fff2f1;
    --color-pkt-brand-red-400: #ffdfdc;
    --color-pkt-brand-red-600: #ffb4ac;
    --color-pkt-brand-red-1000: #c9302c; /* Updated for WCAG AA compliance (5.33:1 contrast) */

    /* Beiges */
    --color-pkt-brand-light-beige-1000: #f8f0dd;
    --color-pkt-brand-dark-beige-1000: #d0bfae;

    /* Neutrals */
    --color-pkt-brand-neutrals-white: #ffffff;
    --color-pkt-brand-neutrals-100: #f9f9f9;
    --color-pkt-brand-neutrals-200: #f2f2f2;
    --color-pkt-brand-neutrals-1000: #2c2c2c;
    --color-pkt-brand-neutrals-black: #000000;
    --color-pkt-brand-neutrals-transparent: transparent;

    /* Purple */
    --color-pkt-brand-purple-1000: #e0adff;

    /* Grays */
    --color-pkt-grays-gray-100: #e6e6e6;
    --color-pkt-grays-gray-200: #cccccc;
    --color-pkt-grays-gray-300: #b3b3b3;
    --color-pkt-grays-gray-400: #9a9a9a;
    --color-pkt-grays-gray-500: #808080;
    --color-pkt-grays-gray-600: #666666;
    --color-pkt-grays-gray-700: #4d4d4d;
    --color-pkt-grays-gray-800: #333333;
    --color-pkt-grays-gray-900: #1a1a1a;
    --color-pkt-grays-gray-1000: #2c2c2c;

    /* ============================================
       PUNKT SEMANTIC COLORS - BACKGROUNDS
       ============================================ */
    --color-pkt-bg-card: #ffffff;
    --color-pkt-bg-canvas: #ffffff;  /* Modal/overlay canvas */
    --color-pkt-bg-default: #ffffff;
    --color-pkt-bg-subtle: #f9f9f9;
    --color-pkt-bg-transparent: transparent;

    /* ============================================
       PUNKT SEMANTIC COLORS - BORDERS
       ============================================ */
    --color-pkt-border-default: #2a2859;
    --color-pkt-border-beige: #d0bfae;
    --color-pkt-border-blue: #6fe9ff;
    --color-pkt-border-gray: #cccccc;
    --color-pkt-border-green: #43f8b6;
    --color-pkt-border-light-beige: #f8f0dd;
    --color-pkt-border-red: #c9302c; /* Updated for WCAG AA compliance */
    --color-pkt-border-subtle: #f2f2f2;
    --color-pkt-border-yellow: #f9c66b;
    --color-pkt-border-active: #1f42aa;
    --color-pkt-border-disabled: #b3b3b3;
    --color-pkt-border-focus: #1f42aa;
    --color-pkt-border-hover: #1f42aa;

    /* ============================================
       PUNKT SEMANTIC COLORS - SURFACES
       ============================================ */
    --color-pkt-surface-faded-green: #e5ffe6;
    --color-pkt-surface-faded-red: #ffdfdc;
    --color-pkt-surface-gray: #f9f9f9;
    --color-pkt-surface-light-beige: #f8f0dd;
    --color-pkt-surface-light-blue: #d1f9ff;
    --color-pkt-surface-light-green: #c7fde9;
    --color-pkt-surface-red: #ffb4ac;
    --color-pkt-surface-yellow: #ffe7bc;
    --color-pkt-surface-strong-beige: #d0bfae;
    --color-pkt-surface-strong-blue: #6fe9ff;
    --color-pkt-surface-strong-dark-blue: #2a2859;
    --color-pkt-surface-strong-dark-green: #034b45;
    --color-pkt-surface-strong-gray: #f2f2f2;
    --color-pkt-surface-strong-green: #43f8b6;
    --color-pkt-surface-strong-light-green: #c7f6c9;
    --color-pkt-surface-strong-red: #c9302c; /* Updated for WCAG AA compliance */
    --color-pkt-surface-strong-yellow: #f9c66b;
    --color-pkt-surface-subtle-light-blue: #e5fcff;
    --color-pkt-surface-subtle-light-red: #fff2f1;
    --color-pkt-surface-subtle-pale-blue: #f1fdff;
    --color-pkt-surface-subtle-white: #ffffff;
    --color-pkt-surface-light-yellow: #ffe7bc;  /* Amber - for approval in_progress */
    --color-pkt-surface-light-red: #fff2f1;  /* Light red - for approval rejected */

    /* ============================================
       PUNKT SEMANTIC COLORS - TEXT
       ============================================ */
    --color-pkt-text-body-dark: #2a2859;
    --color-pkt-text-body-default: #2a2859;
    --color-pkt-text-body-light: #ffffff;
    --color-pkt-text-body-subtle: #6b7280;  /* Muted text for secondary info */
    --color-pkt-text-placeholder: #666666;
    --color-pkt-text-action-disabled: #666666;
    --color-pkt-text-action-active: #1f42aa;
    --color-pkt-text-action-hover: #1f42aa;
    --color-pkt-text-action-normal: #2a2859;

    /* ============================================
       SEMANTIC ROLE COLORS
       Used for role indicators in timeline and status cards
       ============================================ */
    --color-role-te-text: #034b45;  /* TE role label - dark green matching circle */
    --color-role-bh-text: #b45309;  /* BH role label - amber/gold matching circle */
    --color-role-te-pill-bg: #43f8b6;  /* TE pill background - matches circle */
    --color-role-bh-pill-bg: #f9c66b;  /* BH pill background - matches circle */
    --color-subsidiary-indicator: #ffe7bc;  /* Subsidiary status border/dot */

    /* Danger action button (e.g., Forsering) */
    --color-action-danger-text: #b91c1c;  /* Red text readable on white */
    --color-action-danger-border: #ef4444;  /* Red border */
    --color-action-danger-hover-bg: #fef2f2;  /* Light red hover */

    /* Step indicator - completed state - matches app's success palette */
    --color-step-completed-bg: #c7fde9;  /* Light mint - matches badge-success-bg */
    --color-step-completed-border: #034b45;  /* Dark green - matches success text */
    --color-step-completed-text: #034b45;  /* Dark green text */

    /* Modal field colors */
    --color-field-label: #6b7280;  /* Gray-500 equivalent */
    --color-field-value: #111827;  /* Gray-900 equivalent */
    --color-field-muted: #9ca3af;  /* Gray-400 equivalent */

    /* Editor "edited" state colors (letter generator) */
    --color-editor-edited-bg: #f5f0ff;  /* Light purple background */
    --color-editor-edited-border: #a78bfa;  /* Purple border (violet-400) */
    --color-editor-edited-text: #6d28d9;  /* Purple text (violet-700) */
    --color-editor-focus-ring: rgba(167, 139, 250, 0.3);  /* Purple focus ring */

    /* TE/BH category row colors (for RevisionHistory table) - light mode */
    --color-row-te-bg: rgba(199, 253, 233, 0.4);  /* Very subtle mint */
    --color-row-te-text: #034b45;  /* pkt-brand-dark-green-1000 */
    --color-row-te-border: #34d399;  /* Green border accent */
    --color-row-bh-bg: rgba(255, 231, 188, 0.4);  /* Very subtle amber */
    --color-row-bh-text: #333333;  /* pkt-grays-gray-800 */
    --color-row-bh-border: #f59e0b;  /* Amber border accent */

    /* Alert component colors - light mode (matching original brand colors) */
    --color-alert-info-bg: #f1fdff;  /* pkt-brand-blue-100 */
    --color-alert-info-border: #1f42aa;  /* pkt-brand-warm-blue-1000 */
    --color-alert-info-text: #2a2859;  /* pkt-brand-dark-blue-1000 */
    --color-alert-success-bg: #e5ffe6;  /* pkt-brand-light-green-400 */
    --color-alert-success-border: #034b45;  /* pkt-brand-dark-green-1000 */
    --color-alert-success-text: #034b45;  /* pkt-brand-dark-green-1000 */
    --color-alert-warning-bg: #ffe7bc;  /* pkt-brand-yellow-500 - original amber */
    --color-alert-warning-border: #f9c66b;  /* pkt-brand-yellow-1000 */
    --color-alert-warning-text: #2a2859;  /* pkt-brand-dark-blue-1000 */
    --color-alert-danger-bg: #fff2f1;  /* pkt-brand-red-100 */
    --color-alert-danger-border: #c9302c;  /* pkt-brand-red-1000 */
    --color-alert-danger-text: #c9302c;  /* pkt-brand-red-1000 */

    /* ============================================
       BADGE COMPONENT COLORS
       Used for Badge component variants
       ============================================ */
    --color-badge-info-bg: #d1f9ff;  /* Light cyan */
    --color-badge-info-text: #1f42aa;  /* Dark blue */
    --color-badge-info-border: #1f42aa;
    --color-badge-success-bg: #c7fde9;  /* Light mint */
    --color-badge-success-text: #034b45;  /* Dark green */
    --color-badge-success-border: #034b45;
    --color-badge-warning-bg: #ffe7bc;  /* Light amber */
    --color-badge-warning-text: #92400e;  /* Dark amber/brown */
    --color-badge-warning-border: #92400e;
    --color-badge-danger-bg: #ffdfdc;  /* Light coral */
    --color-badge-danger-text: #991b1b;  /* Dark red */
    --color-badge-danger-border: #991b1b;

    /* ============================================
       SEMANTIC TAG COLORS
       Used for revision tags, badges, and status indicators
       ============================================ */
    --color-tag-neutral-bg: #f3f4f6;
    --color-tag-neutral-text: #4b5563;
    --color-tag-neutral-border: #d1d5db;
    --color-tag-info-bg: #eff6ff;
    --color-tag-info-text: #1d4ed8;
    --color-tag-info-border: #bfdbfe;
    --color-tag-warning-bg: #fffbeb;
    --color-tag-warning-text: #b45309;
    --color-tag-warning-border: #fcd34d;
    --color-tag-frist-bg: #ffe7bc;  /* Soft amber/beige for Frist tag */
    --color-tag-frist-text: #2a2859;

    /* ============================================
       CONNECTION STATUS INDICATOR COLORS
       High-contrast colors for small status dots
       ============================================ */
    --color-pkt-status-connected: #16a34a;  /* Green-600 - good contrast on white */
    --color-pkt-status-disconnected: #dc2626;  /* Red-600 - good contrast on white */
    --color-pkt-status-neutral: #6b7280;  /* Gray-500 - visible on white */

    /* ============================================
       LEGACY ALIASES (for backward compatibility)
       ============================================ */
    --color-oslo-blue: #2a2859;
    --color-oslo-blue-700: #6a698b;
    --color-oslo-beige: #d0bfae;
    --color-oslo-beige-100: #f8f0dd;
    --color-oslo-green: #034b45;
    --color-success: #034b45;
    --color-success-100: #e5ffe6;
    --color-warning: #f9c66b;
    --color-warning-100: #ffe7bc;
    --color-error: #c9302c; /* Updated for WCAG AA compliance (5.33:1 contrast) */
    --color-error-100: #fff2f1;
    --color-info: #2a2859;
    --color-pri: #1f42aa;
    --color-pri-light: #e5fcff;

    /* ============================================
       TYPOGRAPHY
       ============================================ */
    --font-sans: 'Oslo Sans', system-ui, -apple-system, arial, sans-serif;

    /* Font sizes - INCREASED for better readability */
    --text-xs: 0.75rem;      /* 12px */
    --text-sm: 0.875rem;     /* 14px */
    --text-base: 1rem;       /* 16px */
    --text-lg: 1.125rem;     /* 18px */
    --text-xl: 1.25rem;      /* 20px */
    --text-2xl: 1.5rem;      /* 24px */
    --text-3xl: 1.875rem;    /* 30px */
    --text-4xl: 2.25rem;     /* 36px */

    /* ============================================
       BORDER RADIUS
       Bruk Tailwind-klasser: rounded-lg (kort), rounded-sm (badges), rounded-full (pills)
       ============================================ */
    --radius-none: 0;

    /* ============================================
       BORDER WIDTH
       ============================================ */
    --border-width-default: 2px;
    --border-width-thick: 3px;

    /* ============================================
       Z-INDEX SCALE
       ============================================ */
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;
    --z-onboarding-overlay: 1080;
    --z-onboarding-popover: 1090;
    --z-toast: 1100;

    /* ============================================
       ANIMATIONS
       ============================================ */
    --animate-slideIn: slideIn 150ms cubic-bezier(0.16, 1, 0.3, 1);
    --animate-slideOut: slideOut 100ms ease-in;
    --animate-swipeOut: swipeOut 100ms ease-out;
    --animate-spin: spin 1s linear infinite;
    --animate-accordion-down: accordion-down 200ms ease-out;
    --animate-accordion-up: accordion-up 200ms ease-out;
    --animate-collapsible-down: collapsible-down 200ms ease-out;
    --animate-collapsible-up: collapsible-up 200ms ease-out;
    --animate-fade-in-up: fadeInUp 0.4s ease-out forwards;
}

/* Toast animations */
@keyframes slideIn {
    from {
        transform: translateX(calc(100% + 1rem));
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOut {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(calc(100% + 1rem));
        opacity: 0;
    }
}

@keyframes swipeOut {
    from {
        transform: translateX(var(--radix-toast-swipe-end-x));
    }
    to {
        transform: translateX(calc(100% + 1rem));
    }
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

/* Accordion animations for Radix Accordion */
@keyframes accordion-down {
    from {
        height: 0;
        opacity: 0;
    }
    to {
        height: var(--radix-accordion-content-height);
        opacity: 1;
    }
}

@keyframes accordion-up {
    from {
        height: var(--radix-accordion-content-height);
        opacity: 1;
    }
    to {
        height: 0;
        opacity: 0;
    }
}

/* Collapsible animations for Radix Collapsible */
@keyframes collapsible-down {
    from {
        height: 0;
        opacity: 0;
    }
    to {
        height: var(--radix-collapsible-content-height);
        opacity: 1;
    }
}

@keyframes collapsible-up {
    from {
        height: var(--radix-collapsible-content-height);
        opacity: 1;
    }
    to {
        height: 0;
        opacity: 0;
    }
}

/* Fade in up animation for page sections */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Utility class for fade-in-up animation */
.animate-fade-in-up {
    opacity: 0;
    animation: fadeInUp 0.4s ease-out forwards;
}


/* ============================================
   DARK MODE THEME OVERRIDES
   Applied when .dark class is on <html>
   ============================================ */
.dark {
  /* Backgrounds */
  --color-pkt-bg-default: #1a1a2e;
  --color-pkt-bg-canvas: #252542;  /* Modal/overlay canvas */
  --color-pkt-bg-card: #252542;
  --color-pkt-bg-subtle: #1e1e36;
  --color-pkt-bg-transparent: transparent;

  /* Text - Improved contrast for dark mode */
  --color-pkt-text-body-dark: #f0f0f8;  /* Brightened for better contrast */
  --color-pkt-text-body-default: #e0e0ec;  /* Brightened for better readability */
  --color-pkt-text-body-light: #ffffff;
  --color-pkt-text-body-subtle: #a8a8c0;  /* Muted text - improved contrast */
  --color-pkt-text-placeholder: #9a9ab0;
  --color-pkt-text-action-disabled: #6a6a8a;
  --color-pkt-text-action-active: #8ab4ff;
  --color-pkt-text-action-hover: #8ab4ff;
  --color-pkt-text-action-normal: #e0e0ec;  /* Brightened to match body-default */

  /* Borders */
  --color-pkt-border-default: #7a7aaa;  /* Lightened for 3:1 contrast on bg-card */
  --color-pkt-border-beige: #6a5a4a;
  --color-pkt-border-blue: #1a3a5a;  /* Darker blue - matches text */
  --color-pkt-border-gray: #7a7a9a;  /* Lightened for 3:1 contrast on surface-gray */
  --color-pkt-border-green: #0a4030;  /* Darker green - matches text */
  --color-pkt-border-light-beige: #4a4a3a;
  --color-pkt-border-red: #a04a4a;  /* Lighter red - visible on dark bg */
  --color-pkt-border-subtle: #3a3a5a;
  --color-pkt-border-yellow: #5a4a20;  /* Darker amber - matches text */
  --color-pkt-border-active: #6a9aff;
  --color-pkt-border-disabled: #4a4a6a;
  --color-pkt-border-focus: #6a9aff;
  --color-pkt-border-hover: #6a9aff;

  /* Grays - improved for dark mode with better WCAG contrast */
  --color-pkt-grays-gray-100: #2a2a4a;
  --color-pkt-grays-gray-200: #3a3a5a;
  --color-pkt-grays-gray-300: #707090;  /* Lightened for 3:1 border contrast */
  --color-pkt-grays-gray-400: #8888a8;  /* Brightened for better visibility */
  --color-pkt-grays-gray-500: #a0a0c0;  /* Brightened - secondary text needs 4.5:1 */
  --color-pkt-grays-gray-600: #b8b8d0;  /* Brightened - labels and descriptions */
  --color-pkt-grays-gray-700: #c8c8e0;  /* Brightened - important secondary text */
  --color-pkt-grays-gray-800: #d8d8e8;  /* Brightened for readability */
  --color-pkt-grays-gray-900: #e8e8f0;
  --color-pkt-grays-gray-1000: #f0f0f8;

  /* Surfaces - darker versions for dark mode */
  --color-pkt-surface-faded-green: rgba(176, 240, 208, 0.85);  /* Semi-transparent mint */
  --color-pkt-surface-faded-red: rgba(255, 202, 202, 0.85);  /* Semi-transparent coral */
  --color-pkt-surface-light-yellow: rgba(255, 224, 160, 0.85);  /* Semi-transparent amber - for approval in_progress */
  --color-pkt-surface-light-red: rgba(255, 202, 202, 0.85);  /* Semi-transparent coral - for approval rejected */
  --color-pkt-surface-gray: #2a2a4a;
  --color-pkt-surface-light-beige: #3a3a4a;  /* Blue-gray instead of beige for dark mode */
  --color-pkt-surface-light-blue: rgba(180, 210, 255, 0.85);  /* Semi-transparent light blue */
  --color-pkt-surface-light-green: rgba(176, 240, 208, 0.85);  /* Semi-transparent mint */
  --color-pkt-surface-red: rgba(255, 180, 172, 0.85);  /* Semi-transparent light red */
  --color-pkt-surface-yellow: rgba(255, 224, 160, 0.85);  /* Semi-transparent light amber */
  --color-pkt-surface-strong-beige: #5a4a3a;
  --color-pkt-surface-strong-blue: #3a6a8a;
  --color-pkt-surface-strong-dark-blue: #4a4a8a;
  --color-pkt-surface-strong-dark-green: #1a5a4a;
  --color-pkt-surface-strong-gray: #3a3a5a;
  --color-pkt-surface-strong-green: #2a7a5a;
  --color-pkt-surface-strong-light-green: #2a5a3a;
  --color-pkt-surface-strong-red: #8a3a3a;
  --color-pkt-surface-strong-yellow: #806020;  /* Golden amber */
  --color-pkt-surface-subtle-light-blue: #2a3a5a;
  --color-pkt-surface-subtle-light-red: #3a2a3a;
  --color-pkt-surface-subtle-pale-blue: #2a3a4a;
  --color-pkt-surface-subtle-white: #2a2a4a;

  /* Brand colors - adjusted for dark mode visibility */
  --color-pkt-brand-blue-100: rgba(180, 210, 255, 0.85);  /* Semi-transparent light blue */
  --color-pkt-brand-blue-200: rgba(160, 200, 255, 0.85);  /* Semi-transparent blue */
  --color-pkt-brand-yellow-500: rgba(255, 224, 160, 0.85);  /* Semi-transparent amber */
  --color-pkt-brand-yellow-1000: #fbbf24;  /* Bright golden amber for borders/accents */
  --color-pkt-brand-red-100: rgba(255, 202, 202, 0.85);  /* Semi-transparent coral */
  --color-pkt-brand-red-600: #9a4a4a;  /* Subtle hover - slightly lighter than strong-red */
  --color-pkt-brand-red-1000: #ff6b6b;  /* Vibrant red for errors/danger in dark mode */
  --color-pkt-brand-light-green-400: rgba(176, 240, 208, 0.85);  /* Semi-transparent mint */
  --color-pkt-brand-dark-blue-1000: #8ab4ff;
  --color-pkt-brand-dark-green-1000: #6adb8a;
  --color-pkt-brand-warm-blue-1000: #6a9aff;
  --color-pkt-brand-neutrals-white: #1a1a2e;
  --color-pkt-brand-neutrals-100: #252542;
  --color-pkt-brand-neutrals-200: #2a2a4a;
  --color-pkt-brand-neutrals-1000: #f0f0f8;  /* Brightened for better contrast */
  /* Note: neutrals-black is inverted in dark mode (white) for semantic "darkest" use */
  --color-pkt-brand-neutrals-black: #ffffff;

  /* Connection status indicator colors - dark mode */
  --color-pkt-status-connected: #4ade80;  /* Green-400 - vibrant on dark bg */
  --color-pkt-status-disconnected: #f87171;  /* Red-400 - vibrant on dark bg */
  --color-pkt-status-neutral: #9ca3af;  /* Gray-400 - visible on dark bg */

  /* Legacy aliases - dark mode */
  --color-oslo-blue: #8ab4ff;
  --color-oslo-blue-700: #9aaac8;
  --color-oslo-beige: #6a5a4a;
  --color-oslo-beige-100: #3a3a2a;
  --color-oslo-green: #6adb8a;
  --color-success: #6adb8a;
  --color-success-100: rgba(176, 240, 208, 0.85);  /* Semi-transparent mint */
  --color-warning: #5a4a20;  /* Dark amber - matches text */
  --color-warning-100: rgba(255, 224, 160, 0.85);  /* Semi-transparent amber */
  --color-error: #5a2020;  /* Dark red - matches text */
  --color-error-100: rgba(255, 202, 202, 0.85);  /* Semi-transparent coral */
  --color-info: #8ab4ff;
  --color-pri: #6a9aff;
  --color-pri-light: #2a3a5a;

  /* Semantic role colors - dark mode */
  --color-role-te-text: #6adb8a;  /* TE matches green circle */
  --color-role-bh-text: #fbbf24;  /* BH matches yellow circle */
  --color-role-te-pill-bg: rgba(67, 248, 182, 0.35);  /* TE pill - semi-transparent green */
  --color-role-bh-pill-bg: rgba(251, 191, 36, 0.35);  /* BH pill - semi-transparent amber */
  --color-subsidiary-indicator: #ff8a80;  /* Coral/salmon red */

  /* Danger action button - dark mode */
  --color-action-danger-text: #fca5a5;  /* Lighter red for dark bg */
  --color-action-danger-border: #f87171;  /* Bright red border */
  --color-action-danger-hover-bg: #3a2028;  /* Dark red hover */

  /* Step indicator - completed state - dark mode - matches app's success palette */
  --color-step-completed-bg: #4a9a7a;  /* Solid mint green - no transparency to avoid line showing through */
  --color-step-completed-border: #3a7a5a;  /* Darker green border */
  --color-step-completed-text: #f0fff8;  /* Light text for contrast */

  /* Modal field colors - dark mode */
  --color-field-label: #b0b0c8;  /* Lighter gray for dark bg - improved contrast */
  --color-field-value: #f8f8fc;  /* Near white - improved for readability */
  --color-field-muted: #8888a8;  /* Medium gray - improved contrast */

  /* Editor "edited" state colors - dark mode */
  --color-editor-edited-bg: rgba(167, 139, 250, 0.15);  /* Semi-transparent purple */
  --color-editor-edited-border: #a78bfa;  /* Purple border (violet-400) */
  --color-editor-edited-text: #c4b5fd;  /* Light purple text (violet-300) */
  --color-editor-focus-ring: rgba(167, 139, 250, 0.4);  /* Purple focus ring */

  /* TE/BH category row colors - dark mode (subtle background + border accent) */
  --color-row-te-bg: rgba(176, 240, 208, 0.15);  /* Very subtle mint */
  --color-row-te-text: #a0e0c0;  /* Light green text for dark mode */
  --color-row-te-border: #4a9a7a;  /* Green border accent */
  --color-row-bh-bg: rgba(255, 224, 160, 0.15);  /* Very subtle amber */
  --color-row-bh-text: #e0c090;  /* Light amber text for dark mode */
  --color-row-bh-border: #d4a050;  /* Amber border accent */

  /* Badge component colors - dark mode (semi-transparent with vibrant borders) */
  --color-badge-info-bg: rgba(180, 210, 255, 0.85);  /* Semi-transparent light blue */
  --color-badge-info-text: #1a3a5a;  /* Dark blue text */
  --color-badge-info-border: #6a9aff;  /* Vibrant blue - visible on dark bg */
  --color-badge-success-bg: rgba(176, 240, 208, 0.85);  /* Semi-transparent mint */
  --color-badge-success-text: #0a4030;  /* Dark green text */
  --color-badge-success-border: #6adb8a;  /* Vibrant green - visible on dark bg */
  --color-badge-warning-bg: rgba(255, 224, 160, 0.85);  /* Semi-transparent amber */
  --color-badge-warning-text: #3a3020;  /* Dark brown text */
  --color-badge-warning-border: #fbbf24;  /* Vibrant gold - visible on dark bg */
  --color-badge-danger-bg: rgba(255, 202, 202, 0.85);  /* Semi-transparent coral */
  --color-badge-danger-text: #5a2020;  /* Dark red text */
  --color-badge-danger-border: #f87171;  /* Vibrant red - visible on dark bg */

  /* Alert component colors - dark mode (semi-transparent pastels with vibrant borders) */
  --color-alert-info-bg: rgba(180, 210, 255, 0.85);  /* Semi-transparent light blue */
  --color-alert-info-border: #6a9aff;  /* Vibrant blue - visible on dark bg */
  --color-alert-info-text: #1a3a5a;  /* Dark blue text on light bg */
  --color-alert-success-bg: rgba(176, 240, 208, 0.85);  /* Semi-transparent mint */
  --color-alert-success-border: #6adb8a;  /* Vibrant green - visible on dark bg */
  --color-alert-success-text: #0a4030;  /* Dark green text on light bg */
  --color-alert-warning-bg: rgba(255, 224, 160, 0.85);  /* Semi-transparent amber */
  --color-alert-warning-border: #fbbf24;  /* Vibrant gold - visible on dark bg */
  --color-alert-warning-text: #3a3020;  /* Dark brown text on light bg */
  --color-alert-danger-bg: rgba(255, 202, 202, 0.85);  /* Semi-transparent coral */
  --color-alert-danger-border: #f87171;  /* Vibrant red - visible on dark bg */
  --color-alert-danger-text: #5a2020;  /* Dark red text on light bg */

  /* Semantic tag colors - dark mode (semi-transparent with vibrant borders) */
  --color-tag-neutral-bg: rgba(200, 200, 220, 0.85);  /* Semi-transparent gray */
  --color-tag-neutral-text: #3a3a5a;  /* Dark gray text */
  --color-tag-neutral-border: #9090b0;  /* Lighter gray - visible on dark bg */
  --color-tag-info-bg: rgba(180, 210, 255, 0.85);  /* Semi-transparent blue */
  --color-tag-info-text: #1a3a5a;  /* Dark blue text */
  --color-tag-info-border: #6a9aff;  /* Vibrant blue - visible on dark bg */
  --color-tag-warning-bg: rgba(255, 224, 160, 0.85);  /* Semi-transparent amber */
  --color-tag-warning-text: #3a3020;  /* Dark brown text */
  --color-tag-warning-border: #fbbf24;  /* Vibrant gold - visible on dark bg */
  --color-tag-frist-bg: rgba(255, 231, 188, 0.85);  /* Semi-transparent beige */
  --color-tag-frist-text: #3a3020;  /* Dark brown text */
}

/* ============================================
   Font Face Declarations
   ============================================ */
@font-face {
  font-family: 'Oslo Sans';
  src: url('/fonts/OsloSans-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Oslo Sans';
  src: url('/fonts/OsloSans-RegularItalic.woff2') format('woff2');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Oslo Sans';
  src: url('/fonts/OsloSans-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Oslo Sans';
  src: url('/fonts/OsloSans-MediumItalic.woff2') format('woff2');
  font-weight: 500;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Oslo Sans';
  src: url('/fonts/OsloSans-Bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Oslo Sans';
  src: url('/fonts/OsloSans-BoldItalic.woff2') format('woff2');
  font-weight: 700;
  font-style: italic;
  font-display: swap;
}

@font-face {
  font-family: 'Oslo Sans';
  src: url('/fonts/OsloSans-Light.woff2') format('woff2');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Oslo Sans';
  src: url('/fonts/OsloSans-LightItalic.woff2') format('woff2');
  font-weight: 300;
  font-style: italic;
  font-display: swap;
}

/* ============================================
   Base Styles
   ============================================ */
html {
    background-color: var(--color-pkt-bg-subtle);
    overflow-x: hidden;
    overscroll-behavior-x: none;
}

body {
    font-family: 'Oslo Sans', system-ui, -apple-system, arial, sans-serif !important;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-size: 16px; /* Increased from 14px for better readability */
    color: var(--color-pkt-text-body-default);
    background-color: var(--color-pkt-bg-subtle);
    overflow-x: hidden;
    overscroll-behavior-x: none;
}

* {
    font-family: inherit;
}

:focus-visible {
    outline-color: var(--color-pri);
}

/* ============================================
   Custom Scrollbar
   Tynn, diskret scrollbar med Firefox-st√∏tte
   ============================================ */

/* Firefox */
* {
    scrollbar-width: thin;
    scrollbar-color: var(--color-pkt-grays-gray-300) transparent;
}

/* Webkit (Chrome, Safari, Edge) */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}
::-webkit-scrollbar-track {
    background: transparent;
}
::-webkit-scrollbar-thumb {
    background-color: var(--color-pkt-grays-gray-300);
    border-radius: 3px;
    border: 2px solid transparent;
    background-clip: padding-box;
    transition: background-color 0.2s ease;
}
::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-pkt-grays-gray-500);
}
::-webkit-scrollbar-corner {
    background: transparent;
}

/* ============================================
   Scrollbar Utility Classes
   ============================================ */

/* Hide scrollbar but keep functionality */
.scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Chrome, Safari, Opera */
}

/* Auto-hide scrollbar - visible on hover/scroll */
.scrollbar-auto {
    scrollbar-gutter: stable;
}
.scrollbar-auto::-webkit-scrollbar-thumb {
    background-color: transparent;
    transition: background-color 0.2s ease;
}
.scrollbar-auto:hover::-webkit-scrollbar-thumb,
.scrollbar-auto:focus-within::-webkit-scrollbar-thumb {
    background-color: var(--color-pkt-grays-gray-300);
}
.scrollbar-auto:hover::-webkit-scrollbar-thumb:hover {
    background-color: var(--color-pkt-grays-gray-500);
}

/* ============================================
   Markdown Preview Styling
   Used by MarkdownEditor component
   ============================================ */
.markdown-preview h1,
.markdown-preview h2,
.markdown-preview h3 {
    color: var(--color-pkt-text-body-dark);
    font-weight: 600;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    line-height: 1.3;
}
.markdown-preview h1:first-child,
.markdown-preview h2:first-child,
.markdown-preview h3:first-child {
    margin-top: 0;
}
.markdown-preview h1 { font-size: 1.5rem; }
.markdown-preview h2 { font-size: 1.25rem; }
.markdown-preview h3 { font-size: 1.125rem; }

.markdown-preview p {
    margin: 0.5rem 0;
    color: var(--color-pkt-text-body-default);
}

.markdown-preview strong {
    font-weight: 600;
    color: var(--color-pkt-text-body-dark);
}

.markdown-preview ul,
.markdown-preview ol {
    margin: 0.5rem 0;
    padding-left: 1.5rem;
}
.markdown-preview ul { list-style-type: disc; }
.markdown-preview ol { list-style-type: decimal; }
.markdown-preview li {
    margin: 0.25rem 0;
    color: var(--color-pkt-text-body-default);
}
.markdown-preview li::marker {
    color: var(--color-pkt-grays-gray-500);
}

.markdown-preview blockquote {
    border-left: 4px solid var(--color-pkt-border-default);
    padding-left: 1rem;
    margin: 0.75rem 0;
    font-style: italic;
    color: var(--color-pkt-text-body-default);
}

.markdown-preview code {
    background-color: var(--color-pkt-bg-subtle);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    font-family: ui-monospace, monospace;
}
.markdown-preview pre {
    background-color: var(--color-pkt-bg-subtle);
    padding: 0.75rem 1rem;
    border-radius: 0.25rem;
    overflow-x: auto;
    margin: 0.75rem 0;
}
.markdown-preview pre code {
    background: none;
    padding: 0;
    font-size: 0.875rem;
}

.markdown-preview a {
    color: var(--color-pkt-text-action-active);
    text-decoration: underline;
}
.markdown-preview a:hover {
    color: var(--color-pkt-text-action-hover);
}

.markdown-preview table {
    width: 100%;
    border-collapse: collapse;
    margin: 0.75rem 0;
    font-size: 0.875rem;
}
.markdown-preview th,
.markdown-preview td {
    border: 1px solid var(--color-pkt-border-gray);
    padding: 0.5rem 0.75rem;
    text-align: left;
}
.markdown-preview th {
    background-color: var(--color-pkt-bg-subtle);
    font-weight: 600;
    color: var(--color-pkt-text-body-dark);
}
.markdown-preview tr:nth-child(even) td {
    background-color: var(--color-pkt-bg-subtle);
}

/* ============================================
   Rich Text Editor (TipTap) Styling
   ============================================ */
.rich-editor-content .tiptap {
    outline: none;
    min-height: inherit;
}

.rich-editor-content .tiptap p {
    margin: 0.5rem 0;
}
.rich-editor-content .tiptap p:first-child {
    margin-top: 0;
}

.rich-editor-content .tiptap h1,
.rich-editor-content .tiptap h2,
.rich-editor-content .tiptap h3 {
    color: var(--color-pkt-text-body-dark);
    font-weight: 600;
    margin-top: 1rem;
    margin-bottom: 0.5rem;
    line-height: 1.3;
}
.rich-editor-content .tiptap h1:first-child,
.rich-editor-content .tiptap h2:first-child,
.rich-editor-content .tiptap h3:first-child {
    margin-top: 0;
}
.rich-editor-content .tiptap h1 { font-size: 1.5rem; }
.rich-editor-content .tiptap h2 { font-size: 1.25rem; }
.rich-editor-content .tiptap h3 { font-size: 1.125rem; }

.rich-editor-content .tiptap strong {
    font-weight: 600;
    color: var(--color-pkt-text-body-dark);
}

.rich-editor-content .tiptap ul,
.rich-editor-content .tiptap ol {
    margin: 0.5rem 0;
    padding-left: 1.5rem;
}
.rich-editor-content .tiptap ul { list-style-type: disc; }
.rich-editor-content .tiptap ol { list-style-type: decimal; }
.rich-editor-content .tiptap li {
    margin: 0.25rem 0;
}
.rich-editor-content .tiptap li::marker {
    color: var(--color-pkt-grays-gray-500);
}

.rich-editor-content .tiptap blockquote {
    border-left: 4px solid var(--color-pkt-border-default);
    padding-left: 1rem;
    margin: 0.75rem 0;
    font-style: italic;
}

.rich-editor-content .tiptap code {
    background-color: var(--color-pkt-bg-subtle);
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    font-family: ui-monospace, monospace;
}
.rich-editor-content .tiptap pre {
    background-color: var(--color-pkt-bg-subtle);
    padding: 0.75rem 1rem;
    border-radius: 0.25rem;
    overflow-x: auto;
    margin: 0.75rem 0;
}
.rich-editor-content .tiptap pre code {
    background: none;
    padding: 0;
}

.rich-editor-content .tiptap a {
    color: var(--color-pkt-text-action-active);
    text-decoration: underline;
}

/* Table styling */
.rich-editor-content .tiptap table,
.rich-editor-table {
    width: 100%;
    border-collapse: collapse;
    margin: 0.75rem 0;
    font-size: 0.875rem;
}
.rich-editor-content .tiptap th,
.rich-editor-content .tiptap td {
    border: 1px solid var(--color-pkt-border-gray);
    padding: 0.5rem 0.75rem;
    text-align: left;
    position: relative;
}
.rich-editor-content .tiptap th {
    background-color: var(--color-pkt-bg-subtle);
    font-weight: 600;
    color: var(--color-pkt-text-body-dark);
}

/* Selected cell highlight */
.rich-editor-content .tiptap .selectedCell {
    background-color: var(--color-pkt-surface-light-blue);
}

/* Placeholder styling */
.rich-editor-content .tiptap p.is-editor-empty:first-child::before {
    content: attr(data-placeholder);
    float: left;
    color: var(--color-pkt-text-placeholder);
    pointer-events: none;
    height: 0;
}
