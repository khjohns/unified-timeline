# ==============================================================================
# KOE Automation System - Environment Variables
# ==============================================================================
#
# Dette er en template for environment variables.
# Kopier denne filen til `.env` og fyll inn faktiske verdier.
#
# VIKTIG:
# - IKKE commit .env til git (er allerede i .gitignore)
# - Bruk sterke, tilfeldige secrets i produksjon
# - Roter secrets regelmessig
#
# ==============================================================================

# ------------------------------------------------------------------------------
# Security Secrets
# ------------------------------------------------------------------------------

# CSRF Protection Secret
# Brukes til å signere CSRF-tokens
# Generer med: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
CSRF_SECRET=CHANGE_ME_USE_STRONG_RANDOM_STRING

# Catenda Webhook Secret Path
# Brukes til å autentisere webhook requests fra Catenda.
# NB: Catenda fjerner query parameters, derfor er secret en del av URL-path:
#   Webhook URL: https://your-url.com/webhook/catenda/{WEBHOOK_SECRET_PATH}
# Generer med: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
WEBHOOK_SECRET_PATH=CHANGE_ME_USE_STRONG_RANDOM_STRING

# ------------------------------------------------------------------------------
# Catenda API Configuration
# ------------------------------------------------------------------------------

# Catenda OAuth Credentials
# Få disse fra Catenda Developer Portal: https://developer.catenda.com
# Eller kjør: python scripts/setup_authentication.py
CATENDA_CLIENT_ID=your_client_id_here
CATENDA_CLIENT_SECRET=your_client_secret_here

# Catenda Project and Library IDs
# Finner du i Catenda URL: https://app.catenda.com/projects/{PROJECT_ID}/...
CATENDA_PROJECT_ID=your_project_id_here
CATENDA_LIBRARY_ID=your_library_id_here

# ------------------------------------------------------------------------------
# Catenda OAuth Tokens (generert av setup_authentication.py)
# ------------------------------------------------------------------------------

# Access token for API-kall (genereres automatisk)
CATENDA_ACCESS_TOKEN=

# Refresh token for å fornye access token (genereres automatisk)
CATENDA_REFRESH_TOKEN=

# Redirect URI for OAuth callback (må matche Catenda Developer Portal)
CATENDA_REDIRECT_URI=http://localhost:8080/callback

# ------------------------------------------------------------------------------
# Frontend URL Configuration
# ------------------------------------------------------------------------------

# URL til React-appen (for magic links i Catenda-kommentarer)
# DEV_REACT_APP_URL har prioritet over REACT_APP_URL
DEV_REACT_APP_URL=http://localhost:3000/Skjema_Endringsmeldinger
REACT_APP_URL=

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------

# Tillatte origins for CORS (kommaseparert liste)
# For utvikling: localhost
# For produksjon: faktiske domener
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ngrok URL (oppdateres automatisk når ngrok starter)
# Eksempel: https://abc123.ngrok.io
NGROK_URL=

# ------------------------------------------------------------------------------
# Rate Limiting (optional - standardverdier er OK for prototype)
# ------------------------------------------------------------------------------

# Rate limit for API submissions (per minutt)
RATE_LIMIT_SUBMIT=10

# Rate limit for webhooks (per minutt)
RATE_LIMIT_WEBHOOK=100

# ------------------------------------------------------------------------------
# Logging (optional)
# ------------------------------------------------------------------------------

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Audit log file path
AUDIT_LOG_FILE=audit.log

# ------------------------------------------------------------------------------
# Flask Configuration (optional)
# ------------------------------------------------------------------------------

# Flask Secret Key (for sessions)
# Generer med: python3 -c "import secrets; print(secrets.token_hex(32))"
FLASK_SECRET_KEY=CHANGE_ME_USE_STRONG_RANDOM_STRING

# Flask Environment: development eller production
FLASK_ENV=development

# Flask Debug Mode (True/False)
# VIKTIG: Sett til False i produksjon!
FLASK_DEBUG=True

# ------------------------------------------------------------------------------
# Database (for fremtidig bruk)
# ------------------------------------------------------------------------------

# Foreløpig bruker vi CSV-filer
# I produksjon: Vurder PostgreSQL eller MongoDB
# DATABASE_URL=postgresql://user:password@localhost/koe_db

# ------------------------------------------------------------------------------
# Generering av secrets
# ------------------------------------------------------------------------------
#
# Bruk disse kommandoene til å generere sterke secrets:
#
# 32-byte URL-safe token:
#   python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 64-byte hex token:
#   python3 -c "import secrets; print(secrets.token_hex(32))"
#
# UUID:
#   python3 -c "import uuid; print(uuid.uuid4())"
#
# ==============================================================================
